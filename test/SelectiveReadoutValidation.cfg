process EcalSelectiveReadoutValid  = {

  untracked PSet maxEvents = {untracked int32 input = 20}

  source = PoolSource {
      untracked vstring fileNames = {
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/045D2CA8-91F0-DC11-AD70-001617DBD230.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/08CC42A1-91F0-DC11-B764-001617E30CC8.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/2806C658-A7F0-DC11-AFAF-001617E30E2C.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/46EF7A8F-91F0-DC11-AC0F-000423D9997E.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/48808541-C9F0-DC11-BCCB-001617C3B76E.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/8285DF94-91F0-DC11-9BC6-000423D98868.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/86609AE5-92F0-DC11-ACD0-000423D94700.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/F25EA8A5-91F0-DC11-87B0-000423D98A44.root',
	 '/store/relval/2008/3/12/RelVal-RelValQCD_Pt_30_50-1205351746/0000/F4FB978F-91F0-DC11-8AAB-000423D98B08.root'
      }
   }
     
  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"   

  # initialize magnetic field
  include "Configuration/StandardSequences/data/MagneticField.cff"

  # geometry (Only Ecal)
  include "Geometry/EcalCommonData/data/EcalOnly.cfi"

  module o1 = PoolOutputModule { 
         untracked string fileName = "Photon_E30GeV_all_EcalValidation.root"      
         untracked vstring outputCommands = 
         {  
           "keep *"  #,
#           "drop *_simEcalUnsuppressedDigis_*_*",
#           "drop *_simEcalDigis_*_*",
#           "drop *_simEcalPreshowerDigis_*_*"
          }

  }
                                                                                
 # DQM services
  include "DQMServices/Core/data/DQM.cfg"
  replace DQM.collectorHost = ""


#  service = Timing{ }
  
  service = SimpleMemoryCheck{ }

  include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

  # run simulation, with EcalHits Validation specific watcher 
  include "SimG4Core/Application/data/g4SimHits.cfi"
  replace g4SimHits.Generator.HepMCProductLabel = "source"
#  replace g4SimHits.Watchers = {
#       { string type = "EcalSimHitsValidProducer"
#         untracked string instanceLabel="EcalValidInfo"
#         untracked bool verbose = false
#       }
#  }
		
  # Mixing Module
  include "SimGeneral/MixingModule/data/mixNoPU.cfi"

  include "CalibCalorimetry/Configuration/data/Ecal_FakeConditions.cff"

  # For TPG scale:
  es_source tpparams12 = EmptyESSource {
       string recordName = "EcalTPGPhysicsConstRcd"
       vuint32 firstValid = { 1 }
       bool iovIsRunNotTime = true
  }

  # ECAL digitization sequence
  include "SimCalorimetry/Configuration/data/ecalDigiSequence.cff" 

  replace ecalDigis.writeSrFlags = true

  # ECAL digis validation sequence
  #include "Validation/EcalDigis/data/ecalDigisValidationSequence.cff"
  
  # Defines Ecal seletive readout validation module, ecalSelectiveReadoutValidation:
  include "Validation/EcalDigis/data/ecalSelectiveReadoutValidation.cfi"
     
  path p1 = { ecalSelectiveReadoutValidation }
  endpath outpath = { o1 }
}		
