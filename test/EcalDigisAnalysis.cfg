process EcalDigisAnalysis  = 
	    {

            source = PoolSource { 
        	untracked vstring fileNames = {'file:digis.root'}
          	untracked int32 maxEvents = -1
          	untracked uint32 debugVebosity = 10
          	untracked bool   debugFlag     = true
		}

  #Geometry
  #
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"  

        es_module = EcalBarrelGeometryEP {}        
        es_module = EcalEndcapGeometryEP {}        
        es_module = EcalPreshowerGeometryEP {}        
        es_module = HcalHardcodeGeometryEP {}      
        es_module = CaloTowerHardcodeGeometryEP {} 
        es_module = CaloGeometryBuilder {}         
 

        module print = AsciiOutputModule {}
        module ecalDigisValidation =  EcalDigisValidation {
		untracked string moduleLabelMC = 'FlatRandomEGunSource' 
#		   untracked string moduleLabelMC = 'MCFileSource' 
		untracked string moduleLabelTk = 'SimG4Object' 
		untracked string moduleLabelVtx = 'SimG4Object' 

          untracked string outputFile = 'EcalDigisValidation.root'
          untracked bool verbose = true
		}
                                  
        module ecalBarrelDigisValidation = EcalBarrelDigisValidation{ untracked bool verbose = true }                                  
        module ecalEndcapDigisValidation = EcalEndcapDigisValidation{ untracked bool verbose = true }                                  
        module ecalPreshowerDigisValidation = EcalPreshowerDigisValidation{ untracked bool verbose = true }                                  
                                              
		path p1 = { ecalDigisValidation, ecalBarrelDigisValidation, ecalEndcapDigisValidation, ecalPreshowerDigisValidation }

        service = MessageLogger { } 
                                                                                
        service = DaqMonitorROOTBackEnd{ }
	}		
